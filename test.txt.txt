WITH t_mock (ID_ARCHIVE) AS (
  SELECT 'H9000001000000000000010' FROM DUAL UNION ALL
  SELECT 'H9000002000000000000010' FROM DUAL UNION ALL
  SELECT 'H9000002900000000000100' FROM DUAL UNION ALL
  SELECT 'H9000001900000000000100' FROM DUAL UNION ALL
  SELECT 'H9000089000000000001000' FROM DUAL UNION ALL
  SELECT 'H9000065000000000001000' FROM DUAL UNION ALL
  -- Caso que mencionaste: debe contabilizarse como 001300
  SELECT 'H9001300XXXXXXX'          FROM DUAL
)
SELECT LPAD(MAX(TO_NUMBER(SUBSTR(ID_ARCHIVE,3,6))), 6, '0') AS MAX_CONSEC_6
FROM   t_mock
WHERE  REGEXP_LIKE(SUBSTR(ID_ARCHIVE,3,6), '^[0-9]{6}$');

